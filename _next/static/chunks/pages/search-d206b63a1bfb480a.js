(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[612],{17809:()=>{},44849:(e,t,r)=>{"use strict";r.d(t,{A:()=>O});var n=r(33318),i=r(65323),a=r(66284),c=r(22810),o=(0,c.I4)("div",{padding:"$gr3 0 0"}),s=(0,c.I4)("div",{backgroundColor:"var(--gray-3)",width:"100%",height:"100%",overflowY:"hidden",borderRadius:"3px",transition:"$canopyAll"}),l=(0,c.I4)("div",{display:"flex",width:"100%",position:"relative",flexGrow:1,flexShrink:0,maxWidth:"275px",img:{width:"100%",height:"100%",objectFit:"cover"},a:(0,a.A)({display:"flex",flexDirection:"column",width:"100%",color:"var(--gray-12)",textDecoration:"none !important",transition:"$canopyAll"},"&:hover, &:focus",(0,a.A)({color:"var(--accent-11)"},"".concat(s),{transform:"scale3d(1.03, 1.03, 1.03)"}))}),u=r(61956),d=r(96920),f=r(59788),p=r(95272),h=r(74358),g=(0,c.I4)("img",(0,a.A)({position:"relative",zIndex:"1",width:"100%",height:"100%",objectFit:"contain",transition:"$canopyAll",opacity:0,color:"transparent"},"&.loaded",{opacity:1})),v=(0,c.I4)("figure",{backgroundColor:"var(--gray-3)",display:"flex",width:"100%",height:"100%",padding:"0",margin:"0",position:"relative",overflow:"hidden",zIndex:"0",borderRadius:"3px",transition:"$canopyAll"}),x=r(14232),m=r(49995),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"600,",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full";if(!e)return null;if(Array.isArray(e)&&(e=e[0]),!e.service)return e.id;if(!Array.isArray(e.service)){if(e.service["@id"])return"".concat(e.service["@id"],"/").concat(r,"/").concat(t,"/0/default.jpg");if(e.service.id)return"".concat(e.service.id,"/").concat(r,"/").concat(t,"/0/default.jpg")}return e.service[0]["@id"]?"".concat(e.service[0]["@id"],"/").concat(r,"/").concat(t,"/0/default.jpg"):"".concat(e.service[0].id,"/").concat(r,"/").concat(t,"/0/default.jpg")},j=r(37876);let b=function(e){var t=e.alt,r=e.resource,n=e.region,i=void 0===n?"full":n,a=e.size,c=void 0===a?"400,":a,o=e.isCover,s=(0,x.useState)(),l=s[0],u=s[1],d=(0,x.useState)(!1),f=d[0],p=d[1],h=(0,x.useRef)(null);return(0,x.useEffect)(function(){var e;u(y(r,c,i)),null!=h&&h.current&&null!=h&&null!=(e=h.current)&&e.complete&&p(!0)},[]),(0,j.jsx)(v,{children:(0,j.jsx)(g,{alt:t,src:l,ref:h,style:void 0!==o&&o?{objectFit:"cover",objectPosition:"50% 50%",width:"100%",height:"100%"}:{},onLoad:function(){return p(!0)},className:(0,m.A)("source",f&&"loaded")})})};var w=r(51633),A=r(52059),S=r(50634);let O=x.memo(function(e){var t,r=e.resource,a=1,c=r.label,g=r.homepage,v=r.thumbnail,x=Array.isArray(v)&&v.length>0,m=x?v[0].id:"images/image.svg",y=x?v[0].width:void 0,O=x?v[0].height:void 0;y&&O&&(a=y/O);var $=(0,S.Wx)(),P=$.ref,I=$.inView,C=(0,A.p)(c);return(0,j.jsx)(l,{as:i.Box,ref:P,children:(0,j.jsx)(i.Card,{size:"2",style:{width:"100%"},variant:"classic",asChild:!0,children:(0,j.jsxs)(h.A,{href:g&&null!=(t=g[0])&&t.id?g[0].id:"",children:[(0,j.jsx)(i.Inset,{clip:"padding-box",side:"top","data-testid":"canopy-card-inset","data-resource":m,children:(0,j.jsx)(n.b,{ratio:a,children:(0,j.jsx)(s,{children:(0,j.jsx)(u.x,{transition:{duration:1},children:I&&r&&(0,j.jsx)(d.F,{features:f.l,children:(0,j.jsx)(p.m.div,{style:{height:"100%"},initial:{opacity:0},animate:{opacity:1},children:(0,j.jsx)(b,{resource:x?v:[{id:m}],alt:C})})})})})})}),(0,j.jsx)(i.Text,{size:"2",asChild:!0,children:(0,j.jsx)(o,{children:(0,j.jsx)(w.Label,{label:c})})})]})})})})},50920:e=>{"use strict";e.exports=JSON.parse('[{"label":"Series","slug":"series","values":[]},{"label":"Date","slug":"date","values":[]}]')},60258:e=>{"use strict";e.exports=[]},63358:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=r(66284),i=r(44849),a=r(92594),c=r(22810),o=(0,c.I4)("div",{paddingBottom:"$gr4",zIndex:"1","@xxs":{paddingBottom:"$gr2"},"@xs":{paddingBottom:"$gr2"},"@sm":{paddingBottom:"$gr3"},"@md":{paddingBottom:"$gr3"}}),s=(0,c.I4)(a.A,{display:"flex",width:"auto",position:"relative",padding:"$gr2 0",zIndex:"1",".canopy-grid-column":{marginLeft:"$gr4","@xxs":{marginLeft:"$gr2"},"@xs":{marginLeft:"$gr2"},"@sm":{marginLeft:"$gr3"},"@md":{marginLeft:"$gr3"},"&:first-child":{marginLeft:"0"}}});r(14232);var l=r(37876),u=r(706),d=function(e){var t=e.children,r=(0,n.A)((0,n.A)((0,n.A)((0,n.A)((0,n.A)({default:6},u.V.xl,5),u.V.lg,4),u.V.md,4),u.V.sm,3),u.V.xs,2);return(0,l.jsx)(s,{breakpointCols:r,className:"canopy-grid",columnClassName:"canopy-grid-column",children:t})};d.Item=function(e){var t=e.item;return t?(0,l.jsx)(o,{children:(0,l.jsx)(i.A,{resource:t},t.id)}):(0,l.jsx)(l.Fragment,{})};let f=d},68732:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(80482)}])},80482:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__N_SSG:()=>ef,default:()=>ep});var n=r(14232),i=r(82271),a=r(66284),c=r(37876);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var l={facetsActive:[]},u=(0,n.createContext)(void 0);function d(e,t){if("updateFacetsActive"===t.type)return s(s({},e),{},{facetsActive:t.facetsActive})}function f(e){var t=e.initialState,r=e.children,i=(0,n.useReducer)(d,void 0===t?l:t),a=i[0],o=i[1];return(0,c.jsx)(u.Provider,{value:{facetsDispatch:o,facetsState:a},children:r})}function p(){var e=(0,n.useContext)(u);if(void 0===e)throw Error("useFacetsState must be used within a FacetsProvider");return e}var h=r(65323),g=r(45794),v=r(22810),x=(0,v.I4)("span",{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",top:"-$gr1",right:"$gr2",width:"$gr3",height:"$gr3",fontSize:"$gr1",color:"var(--accent-1)",backgroundColor:"var(--accent-12)",borderRadius:"50%"}),m=(0,v.I4)(h.Dialog.Trigger,{position:"relative",right:"0",boxShadow:"none",transition:"$canopySlideIn"}),y=(0,v.I4)("div",{display:"flex",position:"fixed",left:"0",zIndex:"5",width:"100%",variants:{isScrolling:{true:(0,a.A)({},"".concat(m),{right:"50%",transform:"translate(50%)",backfaceVisibility:"hidden",webkitFontSmoothing:"subpixel-antialiased",boxShadow:"var(--shadow-5)"})}}}),j=r(91526),b=r(49517),w=r(5259),A=r(92271);let S=function(e){var t=(0,n.useState)(0),r=t[0],i=t[1];return(0,n.useEffect)(function(){var t=function(){i(window.pageYOffset),e.current&&i(window.pageYOffset-(null==e?void 0:e.current.offsetTop))};return window.addEventListener("scroll",t),t(),function(){return window.removeEventListener("scroll",t)}},[e]),r},O=function(){var e=n.useState(!1),t=(0,g.A)(e,2),r=t[0],a=t[1],o=n.useRef(null),s=S(o),l=Array.from(p().facetsState.facetsActive.keys()).filter(function(e){return"q"!==e}).length;return(0,n.useEffect)(function(){return a(s>A.$A-100)},[s,A.$A]),(0,c.jsx)(y,{isScrolling:r,ref:o,children:(0,c.jsx)(i.A,{containerType:"wide",children:(0,c.jsx)(h.Flex,{justify:"end",children:(0,c.jsx)(m,{children:(0,c.jsxs)(j.A,{size:"3",children:[(0,b.qP)("searchFilter")," ",(0,c.jsx)(w.LMN,{}),l>0&&(0,c.jsx)(x,{children:l})]})})})})})};var $=r(18221),P=(0,v.I4)("div",{display:"flex",flexDirection:"column",flexWrap:"nowrap",width:"100%",overflow:"scroll"}),I=r(50920),C=(0,v.I4)($.l9,{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"$gr2 0",backgroundColor:"transparent",border:"none",cursor:"pointer",borderTop:"1px solid var(--gray-4)",fontSize:"$gr3","> span":{display:"flex",alignItems:"center",gap:"$gr1"},"&:hover, &:focus":{color:"var(--accent-11)"},svg:{transition:"$canopyAll",transform:"rotate(-90deg)",color:"var(--gray-10)"},"&[aria-expanded='true']":{color:"var(--gray-12) !important",fontWeight:"800",svg:{color:"var(--gray-12) !important",transform:"rotate(0deg)"}}}),D=(0,v.I4)($.UC,{padding:"$gr1 0 $gr4"}),k=(0,v.I4)($.Y9,{}),E=(0,v.I4)($.q7,{"&:first-child":(0,a.A)({},"".concat(C),{border:"none"})}),F=r(74003),z=(0,v.I4)("label",{transition:"$canopyAll",cursor:"pointer",fontWeight:"500",variants:{isChecked:{true:{color:"var(--gray-12) !important",fontWeight:"700"}}},"&:hover, &:focus":{color:"var(--accent-11)"},span:{color:"var(--gray-10) !important",fontSize:"$gr1"}}),R=(0,v.I4)(F.bL,{position:"relative",zIndex:"0",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"$gr3",height:"$gr3",margin:"0 $gr1 0 0",background:"var(--gray-3)",boxShadow:"inset var(--shadow-2)",border:"none",borderRadius:"50%",cursor:"pointer",transition:"$canopyAll",flexShrink:"0","&::before":{position:"absolute",width:"100%",height:"100%",content:"",background:"linear-gradient(-45deg, var(--accent-11), var(--accent-8))",opacity:"0",borderRadius:"50%",transition:"$canopyAll",zIndex:"0"},"&[aria-checked='true']":{"&::before":{opacity:"1"}}}),L=(0,v.I4)(F.C1,{position:"absolute",zIndex:"1",color:"var(--accent-1)",textShadow:"1px 1px 2px var(--accent-a12)"}),_=(0,v.I4)("span",{display:"flex",margin:"0 0 $gr1",color:"var(--gray-11)",fontSize:"$gr2","&:last-child":{margin:"0"}});let q=function(e){var t=e.active,r=e.facet,n=e.identifier,i=e.option,a=p(),o=a.facetsDispatch,s=a.facetsState.facetsActive;return(0,c.jsxs)(_,{children:[(0,c.jsx)(R,{value:i.value,id:n,checked:t,onCheckedChange:function(e){s.delete(r),e&&s.append(r,i.slug),o({type:"updateFacetsActive",facetsActive:s})},children:(0,c.jsx)(L,{asChild:!0,children:(0,c.jsx)(w.Srz,{})})}),(0,c.jsxs)(z,{htmlFor:n,isChecked:t,children:[i.value," ",(0,c.jsxs)("span",{children:["(",i.doc_count,")"]})]})]})},T=function(e){var t=e.label,r=e.slug,i=e.values,a=p().facetsState.facetsActive,o=null==a?void 0:a.toString(),s={slug:"",value:(0,b.qP)("searchFilterAny")},l=(0,n.useState)({slug:"",value:(0,b.qP)("searchFilterAny")}),u=l[0],d=l[1];return(0,n.useEffect)(function(){var e,t=null==a?void 0:a.get(r);d(t?{slug:t,value:null==(e=i.find(function(e){return e.slug===t}))?void 0:e.value}:s)},[a,o,r,i]),(0,c.jsxs)(E,{value:r,children:[(0,c.jsx)(k,{asChild:!0,children:(0,c.jsxs)(C,{children:[(0,c.jsxs)("span",{children:[t," ",(0,c.jsx)(w.D3D,{})]}),(0,c.jsx)("span",{children:u.value})]})}),(0,c.jsx)(D,{children:i.map(function(e,t){var n="".concat(r,"-").concat(e.slug,"-").concat(t);return(0,c.jsx)(q,{active:u.slug===e.slug,facet:r,identifier:n,option:e},n)})})]})};var N=r(89099);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let B=function(){var e=p(),t=e.facetsState,r=e.facetsDispatch,i=t.facetsActive,a=(0,N.useRouter)(),o=function(){a.push({pathname:"/search",query:i.toString()})};return(0,c.jsx)(h.Dialog.Content,{children:(0,c.jsxs)(P,{children:[(0,c.jsx)(h.Flex,{mb:"3",align:"center",justify:"between",asChild:!0,children:(0,c.jsxs)("header",{children:[(0,c.jsx)(h.Dialog.Title,{as:"h3",mb:"0",size:"4",children:(0,c.jsx)("span",{children:(0,b.qP)("searchFilter")})}),(0,c.jsx)(h.Dialog.Close,{"aria-label":(0,b.qP)("searchFilterClose"),children:(0,c.jsx)(h.IconButton,{variant:"soft",size:"2",style:{cursor:"pointer"},children:(0,c.jsx)(w.MKb,{})})})]})}),(0,c.jsx)("div",{children:(0,c.jsx)($.bL,{type:"single",collapsible:!0,children:I.map(function(e){return(0,n.createElement)(T,V(V({},e),{},{key:e.slug}))})})}),(0,c.jsx)(h.Flex,{mt:"5",style:{justifyContent:"space-between"},asChild:!0,children:(0,c.jsxs)("footer",{children:[(0,c.jsx)(h.Dialog.Close,{children:(0,c.jsx)(j.A,{variant:"soft",onClick:function(){I.forEach(function(e){return i.delete(e.slug)}),r({type:"updateFacetsActive",facetsActive:i}),o()},children:(0,b.qP)("searchFilterClear")})}),(0,c.jsx)(h.Dialog.Close,{children:(0,c.jsx)(j.A,{onClick:o,children:(0,b.qP)("searchFilterSubmit")})})]})})]})})};var W=r(80793),M=function(){var e=p().facetsDispatch,t=(0,W.nV)().canopyState.searchParams;return(0,n.useEffect)(function(){e({type:"updateFacetsActive",facetsActive:t})},[t,e]),(0,c.jsxs)(h.Dialog.Root,{children:[(0,c.jsx)(O,{}),(0,c.jsx)(B,{})]})};let Y=function(){return(0,c.jsx)(f,{children:(0,c.jsx)(M,{})})};var G=r(19004),X=(0,v.I4)("div",{height:"$gr5",padding:"$gr4 0 $gr2","@sm":{height:"$gr5",padding:"$gr3 0 $gr2"},"#canopy-search-summary":{position:"relative",display:"block",fontSize:"$gr3",color:"var(--gray-11)",fontWeight:"500",padding:"$gr2 0","@sm":{fontSize:"$gr3"}}}),J=r(63358),K=r(70236),H=function(e){var t=new URL(e);return t.searchParams.delete("page"),[{id:t,type:"Collection"}]},Q=r(60258),Z=r(27420),ee=r(82851),et=r.n(ee),er=r(69776),en=function(e,t){var r=new er.A.Document(t);Q.forEach(function(e){return r.add(e)});var n=r.search(e).reduce(function(e,t){return(0,K.A)(new Set([].concat((0,K.A)(e),(0,K.A)(t.result))))},[]);return n.length>0?n:[]},ei=function(e,t,r,n){var i,a=t?en(t,n):Q.map(function(e){return e.id}),c=0===r.length?Z:(i=r.map(function(e){var t=I.find(function(t){return t.slug===e.label}).values.find(function(t){return t.slug===e.value});return null==t?void 0:t.docs}),Z.filter(function(e){return et().intersection.apply(et(),(0,K.A)(i)).includes(e.index)}));return a.filter(function(e){return c.some(function(t){return t.index===e})}).map(function(t){var r;return r=c.find(function(e){return e.index===t}),{id:r.id,type:"Manifest",label:r.label,thumbnail:r.thumbnail,homepage:[{id:"".concat(e,"/works/").concat(r.slug),type:"Text",label:r.label}]}})};function ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(r),!0).forEach(function(t){(0,a.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eo=function(e){var t,r=e.params,n=e.baseUrl,i=e.flexSearch,a=I.map(function(e){return e.slug}).filter(function(e){return r.has(e)}).map(function(e){var t=r.get(e);return{label:e,value:t}}),c=null==r?void 0:r.get("q"),o=null==r?void 0:r.get("page"),s=new URL("".concat(n,"/search"));s.search=null==r?void 0:r.toString();var l=ei(n,c,a,i),u=Array.from(Array(Math.ceil(l.length/10)).keys()).map(function(e){var t=l.slice(10*e,10*(e+1)).map(function(e){return e.id});return{page:e+1,items:t}}),d=o?(t=parseInt(o),u.find(function(e){return e.page===t}).items.map(function(e){return l.find(function(t){return t.id===e})})):u.map(function(e){var t=new URL(s);return t.searchParams.append("page",e.page),{id:t.toString(),type:"Collection",label:{none:["Page ".concat(e.page," (").concat(e.items.length," Total)")]}}});return ec(ec({"@context":"https://iiif.io/api/presentation/3/context.json",id:s.toString(),type:"Collection",label:{none:[c||"All Results"]},items:d},o?{summary:{none:["".concat(l.length,"}")]}}:{summary:{none:["".concat(l.length)]}}),o&&{partOf:H(s)})};let es=function(e,t,r){var i=(0,n.useState)([]),a=i[0],c=i[1],o=(0,n.useState)(!1),s=o[0],l=o[1],u=(0,n.useState)(!0),d=u[0],f=u[1],p=(0,n.useState)(!1),h=p[0],g=p[1],v=(0,W.nV)().canopyState.config,x=function(){c([]),l(!1),f(!0),g(!1)};return(0,n.useEffect)(function(){return x()},[r]),(0,n.useEffect)(function(){if(f(!0),l(!1),(null==e?void 0:e.length)>0&&e[t]){var r,n=eo({params:new URL(e[t]).searchParams,baseUrl:null==v?void 0:v.baseUrl,flexSearch:null==v||null==(r=v.search)?void 0:r.flexSearch}).items;c(function(e){return[].concat((0,K.A)(e),(0,K.A)(n))}),g(e.length>t),f(!1)}},[v,e,t]),{data:a,error:s,loading:d,more:h}},el=function(e){var t=e.pages,r=e.query,i=(0,n.useState)(0),a=i[0],o=i[1],s=es(t,a,r),l=s.data,u=s.loading,d=s.more;(0,n.useEffect)(function(){return o(0)},[r]);var f=(0,n.useRef)(),p=(0,n.useCallback)(function(e){!u&&(f.current&&f.current.disconnect(),f.current=new IntersectionObserver(function(e){e[0].isIntersecting&&d&&o(function(e){return e+1})}),e&&f.current.observe(e))},[u,d]);return(0,c.jsx)(J.A,{children:l.map(function(e,t){return l.length===t+1?(0,c.jsx)("span",{ref:l.length===t+1?p:void 0,children:(0,c.jsx)(J.A.Item,{item:e})},e.id):(0,c.jsx)("span",{children:(0,c.jsx)(J.A.Item,{item:e})},e.id)})})};var eu=r(51633),ed=r(14e3),ef=!0;let ep=function(){var e=(0,ed.useSearchParams)(),t=(0,n.useState)([]),r=t[0],a=t[1],o=(0,n.useState)(),s=o[0],l=o[1],u=n.useRef(null),d=(0,W.nV)(),f=d.canopyDispatch,p=d.canopyState,g=p.config,v=p.searchSummary;return(0,n.useEffect)(function(){a([]),l(new URLSearchParams(e.toString()))},[e]),(0,n.useEffect)(function(){if(void 0!==s){f({searchParams:s,type:"updateSearchParams"});var e,t=null==g||null==(e=g.search)?void 0:e.flexSearch,r=eo({params:s,baseUrl:null==g?void 0:g.baseUrl,flexSearch:t}),n=r.items,i=r.summary;a(n.map(function(e){return e.id})),i&&f({type:"updateSearchSummary",searchSummary:i})}},[s,g]),(0,c.jsxs)(G.A,{children:[(0,c.jsxs)(X,{ref:u,children:[(0,c.jsx)(Y,{}),(0,c.jsx)(i.A,{containerType:"wide",children:v&&(0,c.jsxs)(h.Text,{id:"canopy-search-summary",children:[(0,c.jsx)(eu.Summary,{summary:v})," ",(0,b.qP)("searchResults")]})})]}),(0,c.jsx)(i.A,{containerType:"wide",children:(0,c.jsx)(el,{pages:r,query:s})})]})}}},e=>{e.O(0,[8753,5587,888,7896,9941,2160,9004,636,6593,8792],()=>e(e.s=68732)),_N_E=e.O()}]);